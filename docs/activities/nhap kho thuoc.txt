<svg viewBox="0 0 800 1150" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="400" y="30" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">
    Biểu đồ hoạt động Nhập kho thuốc
  </text>
  
  <!-- Swimlanes -->
  <rect x="50" y="60" width="700" height="1030" fill="none" stroke="#333" stroke-width="2"/>
  <line x1="400" y1="60" x2="400" y2="1090" stroke="#333" stroke-width="2"/>
  
  <!-- Swimlane Headers -->
  <rect x="50" y="60" width="350" height="40" fill="#f0f0f0" stroke="#333" stroke-width="1"/>
  <rect x="400" y="60" width="350" height="40" fill="#f0f0f0" stroke="#333" stroke-width="1"/>
  
  <text x="225" y="85" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Dược sĩ</text>
  <text x="575" y="85" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Hệ thống</text>
  
  <!-- Start node -->
  <circle cx="225" cy="130" r="12" fill="#000"/>
  <line x1="225" y1="142" x2="225" y2="170" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Vào quản lý kho -->
  <rect x="145" y="170" width="160" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="225" y="195" font-family="Arial" font-size="12" text-anchor="middle">Vào quản lý kho thuốc</text>
  <line x1="225" y1="210" x2="225" y2="240" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow to system -->
  <line x1="225" y1="240" x2="470" y2="240" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Hiển thị danh sách thuốc -->
  <rect x="455" y="220" width="210" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="560" y="245" font-family="Arial" font-size="12" text-anchor="middle">Hiển thị danh sách thuốc & tồn</text>
  
  <!-- Arrow back -->
  <line x1="455" y1="240" x2="225" y2="240" stroke="#E91E63" stroke-width="2"/>
  <line x1="225" y1="240" x2="225" y2="300" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Chọn Nhập kho -->
  <rect x="160" y="300" width="130" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="225" y="325" font-family="Arial" font-size="12" text-anchor="middle">Chọn "Nhập kho"</text>
  <line x1="225" y1="340" x2="225" y2="370" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow to system -->
  <line x1="225" y1="370" x2="470" y2="370" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Hiển thị form nhập kho -->
  <rect x="455" y="350" width="210" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="560" y="375" font-family="Arial" font-size="12" text-anchor="middle">Hiển thị form nhập kho</text>
  
  <!-- Arrow back -->
  <line x1="455" y1="370" x2="225" y2="370" stroke="#E91E63" stroke-width="2"/>
  <line x1="225" y1="370" x2="225" y2="430" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Nhập thông tin lô hàng -->
  <rect x="80" y="430" width="290" height="100" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="225" y="450" font-family="Arial" font-size="11" text-anchor="middle">Nhập thông tin lô hàng:</text>
  <text x="225" y="465" font-family="Arial" font-size="10" text-anchor="middle">- Chọn thuốc (hoặc thêm mới)</text>
  <text x="225" y="480" font-family="Arial" font-size="10" text-anchor="middle">- Số lượng nhập</text>
  <text x="225" y="495" font-family="Arial" font-size="10" text-anchor="middle">- Giá nhập, hạn sử dụng</text>
  <text x="225" y="510" font-family="Arial" font-size="10" text-anchor="middle">- Số lô, nhà cung cấp</text>
  <text x="225" y="525" font-family="Arial" font-size="10" text-anchor="middle">- Ghi chú</text>
  
  <line x1="225" y1="530" x2="225" y2="580" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Decision - Nhập nhiều lô? -->
  <path d="M 225 580 L 275 630 L 225 680 L 175 630 Z" fill="#FFE082" stroke="#F57C00" stroke-width="2"/>
  <text x="225" y="625" font-family="Arial" font-size="10" text-anchor="middle">Nhập nhiều</text>
  <text x="225" y="640" font-family="Arial" font-size="10" text-anchor="middle">lô?</text>
  
  <!-- Yes path - Loop -->
  <text x="105" y="635" font-family="Arial" font-size="11" fill="#666">Có</text>
  <line x1="175" y1="630" x2="90" y2="630" stroke="#E91E63" stroke-width="2"/>
  <line x1="90" y1="630" x2="90" y2="480" stroke="#E91E63" stroke-width="2"/>
  <line x1="90" y1="480" x2="80" y2="480" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- No path -->
  <text x="225" y="710" font-family="Arial" font-size="11" text-anchor="middle" fill="#666">Không</text>
  <line x1="225" y1="680" x2="225" y2="740" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Nhấn Xác nhận nhập -->
  <rect x="145" y="740" width="160" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="225" y="765" font-family="Arial" font-size="12" text-anchor="middle">Nhấn "Xác nhận nhập"</text>
  <line x1="225" y1="780" x2="225" y2="810" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow to system -->
  <line x1="225" y1="810" x2="470" y2="810" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Validate dữ liệu -->
  <rect x="470" y="790" width="180" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="560" y="815" font-family="Arial" font-size="12" text-anchor="middle">Validate dữ liệu</text>
  
  <line x1="560" y1="830" x2="560" y2="880" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Decision - Hợp lệ? -->
  <path d="M 560 880 L 610 930 L 560 980 L 510 930 Z" fill="#FFE082" stroke="#F57C00" stroke-width="2"/>
  <text x="560" y="925" font-family="Arial" font-size="10" text-anchor="middle">Dữ liệu</text>
  <text x="560" y="940" font-family="Arial" font-size="10" text-anchor="middle">hợp lệ?</text>
  
  <!-- No path -->
  <text x="485" y="935" font-family="Arial" font-size="11" fill="#666">Không</text>
  <line x1="510" y1="930" x2="430" y2="930" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Hiển thị lỗi -->
  <rect x="370" y="910" width="60" height="60" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="400" y="930" font-family="Arial" font-size="9" text-anchor="middle">Hiển thị</text>
  <text x="400" y="943" font-family="Arial" font-size="9" text-anchor="middle">thông báo</text>
  <text x="400" y="956" font-family="Arial" font-size="9" text-anchor="middle">lỗi</text>
  
  <!-- Loop back -->
  <line x1="400" y1="910" x2="400" y2="480" stroke="#E91E63" stroke-width="2"/>
  <line x1="400" y1="480" x2="370" y2="480" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Yes path -->
  <text x="560" y="1010" font-family="Arial" font-size="11" text-anchor="middle" fill="#666">Có</text>
  <line x1="560" y1="980" x2="560" y2="1040" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Cập nhật kho & tạo phiếu nhập -->
  <rect x="435" y="1040" width="250" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="560" y="1065" font-family="Arial" font-size="12" text-anchor="middle">Cập nhật tồn kho & tạo phiếu nhập</text>
  
  <!-- End node -->
  <circle cx="560" cy="1100" r="12" fill="#000"/>
  <circle cx="560" cy="1100" r="8" fill="#fff"/>
  <line x1="560" y1="1080" x2="560" y2="1088" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#E91E63" />
    </marker>
  </defs>
</svg>