<svg viewBox="0 0 1000 1250" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="500" y="30" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">
    Biểu đồ hoạt động Tra cứu triệu chứng bằng AI (Bệnh nhân)
  </text>
  
  <!-- Swimlanes -->
  <rect x="50" y="60" width="900" height="1130" fill="none" stroke="#333" stroke-width="2"/>
  <line x1="350" y1="60" x2="350" y2="1190" stroke="#333" stroke-width="2"/>
  <line x1="700" y1="60" x2="700" y2="1190" stroke="#333" stroke-width="2"/>
  
  <!-- Swimlane Headers -->
  <rect x="50" y="60" width="300" height="40" fill="#f0f0f0" stroke="#333" stroke-width="1"/>
  <rect x="350" y="60" width="350" height="40" fill="#f0f0f0" stroke="#333" stroke-width="1"/>
  <rect x="700" y="60" width="250" height="40" fill="#f0f0f0" stroke="#333" stroke-width="1"/>
  
  <text x="200" y="85" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Bệnh nhân/Khách</text>
  <text x="525" y="85" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Hệ thống</text>
  <text x="825" y="85" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">AI Service</text>
  
  <!-- Start node -->
  <circle cx="200" cy="130" r="12" fill="#000"/>
  <line x1="200" y1="142" x2="200" y2="170" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Thực cấp 'Tra cứu triệu chứng' -->
  <rect x="110" y="170" width="180" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="200" y="195" font-family="Arial" font-size="12" text-anchor="middle">Thực cấp 'Tra cứu triệu chứng'</text>
  <line x1="200" y1="210" x2="200" y2="240" stroke="#E91E63" stroke-width="2"/>
  
  <!-- Arrow to system -->
  <line x1="200" y1="240" x2="420" y2="240" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Hiển thị form nhập triệu chứng -->
  <rect x="380" y="220" width="190" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="475" y="245" font-family="Arial" font-size="12" text-anchor="middle">Hiển thị form nhập triệu chứng</text>
  
  <!-- Arrow back -->
  <line x1="380" y1="240" x2="200" y2="240" stroke="#E91E63" stroke-width="2"/>
  <line x1="200" y1="240" x2="200" y2="290" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Nhập thông tin -->
  <rect x="85" y="290" width="230" height="100" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="200" y="310" font-family="Arial" font-size="11" text-anchor="middle">Nhập thông tin:</text>
  <text x="200" y="328" font-family="Arial" font-size="10" text-anchor="middle">- Triệu chứng chính</text>
  <text x="200" y="343" font-family="Arial" font-size="10" text-anchor="middle">- Triệu chứng kèm theo</text>
  <text x="200" y="358" font-family="Arial" font-size="10" text-anchor="middle">- Thời gian</text>
  <text x="200" y="373" font-family="Arial" font-size="10" text-anchor="middle">- Cường độ</text>
  
  <line x1="200" y1="390" x2="200" y2="430" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Nhấn 'Phân tích triệu chứng' -->
  <rect x="100" y="430" width="200" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="200" y="455" font-family="Arial" font-size="12" text-anchor="middle">Nhấn 'Phân tích triệu chứng'</text>
  
  <line x1="200" y1="470" x2="200" y2="500" stroke="#E91E63" stroke-width="2"/>
  
  <!-- Arrow to system -->
  <line x1="200" y1="500" x2="420" y2="500" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Validate dữ liệu đầu vào -->
  <rect x="380" y="480" width="190" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="475" y="505" font-family="Arial" font-size="12" text-anchor="middle">Validate dữ liệu đầu vào</text>
  
  <line x1="475" y1="520" x2="475" y2="570" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Decision - Dữ liệu hợp lệ? -->
  <path d="M 475 570 L 525 620 L 475 670 L 425 620 Z" fill="#FFE082" stroke="#F57C00" stroke-width="2"/>
  <text x="475" y="615" font-family="Arial" font-size="10" text-anchor="middle">Dữ liệu</text>
  <text x="475" y="630" font-family="Arial" font-size="10" text-anchor="middle">hợp lệ?</text>
  
  <!-- No path -->
  <text x="400" y="625" font-family="Arial" font-size="11" fill="#666">Không</text>
  <line x1="425" y1="620" x2="340" y2="620" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Thông báo lỗi -->
  <rect x="230" y="600" width="110" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="285" y="615" font-family="Arial" font-size="10" text-anchor="middle">Thông báo lỗi</text>
  <text x="285" y="630" font-family="Arial" font-size="10" text-anchor="middle">và yêu cầu sửa</text>
  
  <!-- Loop back -->
  <line x1="230" y1="620" x2="70" y2="620" stroke="#E91E63" stroke-width="2"/>
  <line x1="70" y1="620" x2="70" y2="450" stroke="#E91E63" stroke-width="2"/>
  <line x1="70" y1="450" x2="100" y2="450" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Yes path - to AI -->
  <text x="550" y="625" font-family="Arial" font-size="11" fill="#666">Có</text>
  <line x1="525" y1="620" x2="720" y2="620" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Gọi AI API -->
  <rect x="720" y="600" width="140" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="790" y="625" font-family="Arial" font-size="12" text-anchor="middle">Gọi AI API</text>
  
  <line x1="790" y1="640" x2="790" y2="680" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Phân tích bằng mô hình -->
  <rect x="710" y="680" width="160" height="60" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="790" y="698" font-family="Arial" font-size="11" text-anchor="middle">Phân tích bằng mô hình</text>
  <text x="790" y="713" font-family="Arial" font-size="9" text-anchor="middle">- Symptom Triage</text>
  <text x="790" y="728" font-family="Arial" font-size="9" text-anchor="middle">- Hazardous Precaution</text>
  
  <!-- Arrow back to system -->
  <line x1="710" y1="710" x2="570" y2="710" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Gọi & Chuyển hóa -->
  <rect x="380" y="680" width="190" height="60" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="475" y="698" font-family="Arial" font-size="11" text-anchor="middle">Gọi & Chuyển hóa:</text>
  <text x="475" y="713" font-family="Arial" font-size="9" text-anchor="middle">- Tác ẩn dầu phơì (API)</text>
  <text x="475" y="728" font-family="Arial" font-size="9" text-anchor="middle">- Nếu thấu quẩu (API)</text>
  
  <line x1="475" y1="740" x2="475" y2="780" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Hiển thị kết quả gợi ý -->
  <rect x="380" y="780" width="190" height="60" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="475" y="798" font-family="Arial" font-size="11" text-anchor="middle">Hiển thị kết quả gợi ý:</text>
  <text x="475" y="813" font-family="Arial" font-size="9" text-anchor="middle">- Tẩu ỉà bảng dữ phơì</text>
  <text x="475" y="828" font-family="Arial" font-size="9" text-anchor="middle">- Cần ẩi bệnh thịa hẹp</text>
  
  <!-- Arrow back to user -->
  <line x1="380" y1="810" x2="200" y2="810" stroke="#E91E63" stroke-width="2"/>
  <line x1="200" y1="810" x2="200" y2="860" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Xem kết quả & khuyến nghị -->
  <rect x="100" y="860" width="200" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="200" y="885" font-family="Arial" font-size="12" text-anchor="middle">Xem kết quả & khuyến nghị</text>
  
  <line x1="200" y1="900" x2="200" y2="950" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Decision - Muốn đặt hẹn? -->
  <path d="M 200 950 L 250 1000 L 200 1050 L 150 1000 Z" fill="#FFE082" stroke="#F57C00" stroke-width="2"/>
  <text x="200" y="995" font-family="Arial" font-size="10" text-anchor="middle">Muốn đặt</text>
  <text x="200" y="1010" font-family="Arial" font-size="10" text-anchor="middle">hẹn?</text>
  
  <!-- Yes path -->
  <text x="290" y="1005" font-family="Arial" font-size="11" fill="#666">Có</text>
  <line x1="250" y1="1000" x2="380" y2="1000" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Chuyển đến màn đặt lịch -->
  <rect x="380" y="980" width="190" height="40" rx="20" fill="#FFF9C4" stroke="#F9A825" stroke-width="2"/>
  <text x="475" y="1005" font-family="Arial" font-size="12" text-anchor="middle">Chuyển đến màn đặt lịch</text>
  
  <line x1="475" y1="1020" x2="475" y2="1100" stroke="#E91E63" stroke-width="2"/>
  
  <!-- No path -->
  <text x="200" y="1080" font-family="Arial" font-size="11" text-anchor="middle" fill="#666">Không</text>
  <line x1="200" y1="1050" x2="200" y2="1100" stroke="#E91E63" stroke-width="2"/>
  
  <!-- Merge to end -->
  <line x1="200" y1="1100" x2="475" y2="1100" stroke="#E91E63" stroke-width="2"/>
  <line x1="337" y1="1100" x2="337" y2="1140" stroke="#E91E63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- End node -->
  <circle cx="337" cy="1160" r="12" fill="#000"/>
  <circle cx="337" cy="1160" r="8" fill="#fff"/>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#E91E63" />
    </marker>
  </defs>
</svg>